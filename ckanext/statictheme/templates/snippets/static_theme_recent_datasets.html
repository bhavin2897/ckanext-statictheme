{% set org_counts = h.get_recent_datasets_by_org() %}

<style>
  .ticker-wrapper {
    overflow: hidden;
    white-space: nowrap;
    box-sizing: border-box;
    border: 1px solid #ccc;
    border-radius: 5px;
    background: #f9f9f9;
    padding: 0.5rem 1rem;
  }

  .ticker {
    display: inline-block;
    padding-left: 100%;
    animation: ticker-scroll 30s linear infinite;
  }

  .ticker-item {
    display: inline-block;
    margin-right: 2rem;
    font-weight: bold;
    color: #333;
  }

  @keyframes ticker-scroll {
    0% { transform: translateX(0%); }
    100% { transform: translateX(-100%); }
  }
</style>


<div class="ticker-wrapper">
  <div class="ticker">
    <strong> Lastest datasets </strong>
    {% for org_id, count in org_counts.items() %}
      {% set org = h.get_organization(org_id) %}
    {% if org and org.title %}
       <span class="ticker-item">  {{ org.title or org_id }} : {{ count }} datasets</span>
    {% endif %}
  {% endfor %}
  </div>
</div>
