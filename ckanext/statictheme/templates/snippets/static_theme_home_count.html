<style>

.centered-h3 {
    background-color: white; /* White background for the entire div */
    display: flex;
    justify-content: center; /* Center horizontally */
    padding: 20px; /* Padding around the h3 tag */
    border-radius: 10px; /* Curved edges for the div */
    margin-top: 20px; /* Space above the div */
}

.centered-h3 h2   {
    background-color: white;
    border-radius: 5px; /* Curved edges */
    padding: 10px; /* Padding inside the h3 tag */
    margin: 0; /* Removes default margin */
    /* Additional styling as needed */
}
</style>

<script>

document.addEventListener('DOMContentLoaded', function () {
    const ckanInstanceURL = 'http://localhost:5000/'; // Replace with your CKAN instance URL
    const apiUrl = `${ckanInstanceURL}/api/3/action/package_list`;

    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const datasetCount = data.result.length;
                animateCount(0, datasetCount, 1000); // Animate over 1000 milliseconds
            }
        })
        .catch(error => {
            console.error('Error fetching dataset count:', error);
        });

    function animateCount(start, end, duration) {
        let startTimestamp = null;
        const step = (timestamp) => {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
            document.getElementById('dataset-count').innerText = Math.floor(progress * (end - start) + start);
            if (progress < 1) {
                window.requestAnimationFrame(step);
            }
        };
        window.requestAnimationFrame(step);
    }
});

</script>

<div class = "centered-h3">
    <h2> Search Across      <br> </h2>
    <h2 id="dataset-count"> <br>  Loading...</h2>
    <h2>Datasets & 4 Repositories </h2>
</div>

<!--<div class="centered-h3">-->
<!--    <h1>Search across <br>-->
<!--        132,964 datasets & 4 Repositories</h1>-->

<!--</div>-->
